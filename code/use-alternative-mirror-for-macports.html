<!DOCTYPE html>
<html lang="en">
<head>

        <title>use alternative mirror for macports</title>
        <meta charset="utf-8" />
        <link href="http://xiaojianfeng.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Tech Notes Full Atom Feed" />
        <link href="http://xiaojianfeng.github.io/feeds/code.atom.xml" type="application/atom+xml" rel="alternate" title="Tech Notes Categories Atom Feed" />


        <!-- Mobile viewport optimized: j.mp/bplateviewport -->
        <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

        <link rel="stylesheet" type="text/css" href="http://xiaojianfeng.github.io/theme/gumby.css" />
        <link rel="stylesheet" type="text/css" href="http://xiaojianfeng.github.io/theme/style.css" />
        <link rel="stylesheet" type="text/css" href="http://xiaojianfeng.github.io/theme/pygment.css" />

        <script src="http://xiaojianfeng.github.io/theme/js/libs/modernizr-2.6.2.min.js"></script>




</head>

<body id="index" class="home">


    <div class="container">

        <div class="row">

          <header id="banner" class="body">
                  <h1><a href="http://xiaojianfeng.github.io/">Tech Notes <strong></strong></a></h1>
          </header><!-- /#banner -->

            <div id="navigation" class="navbar row">
              <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>
             
              <ul class="columns">
                <li><a href="http://xiaojianfeng.github.io/">Home</a></li>


              </ul>
            </div>

<section id="content" class="body">

   <div class="row">
        <div class="eleven columns">


            <header>
              <h2 class="entry-title">
                <a href="http://xiaojianfeng.github.io/code/use-alternative-mirror-for-macports.html" rel="bookmark"
                   title="Permalink to use alternative mirror for macports">use alternative mirror for macports</a></h2>
           
            </header>
            <footer class="post-info">
              <abbr class="published" title="2015-07-19T00:25:00+08:00">
                Sun 19 July 2015
              </abbr>
              <address class="vcard author">By 
                <a class="url fn" href="http://xiaojianfeng.github.io/author/xiao-jianfeng.html"> Xiao Jianfeng</a>
              </address>
            </footer><!-- /.post-info -->
            <div class="entry-content">
              <p>modify /opt/local/etc/macports/macports.conf</p>
<div class="highlight"><pre># The rsync server for fetching MacPorts base during selfupdate. This
# setting is NOT used when downloading the ports tree; the sources for
# the ports tree are set in sources.conf. See
# https://trac.macports.org/wiki/Mirrors#MacPortsSource for a list of
# available servers.
#rsync_server           rsync.macports.org
rsync_server            mirrors.ustc.edu.cn
# rsync_server          mirror.bit.edu.cn

# Location of MacPorts base sources on rsync_server. If this references
# a .tar file, a signed .rmd160 file must exist in the same directory
# and will be used to verify its integrity. See
# https://trac.macports.org/wiki/Mirrors#MacPortsSource to find the
# correct rsync_dir for a particular rsync_server.
#rsync_dir              release/tarballs/base.tar
# mirrors.ustc.edu.cn
rsync_dir               macports/base/
# mirror.bit.edu.cn
# rsync_dir             macports/release/ports/
</pre></div>


<p>modify /opt/local/etc/macports/sources.conf</p>
<div class="highlight"><pre><span class="err">#</span> <span class="nx">A</span> <span class="nx">list</span> <span class="nx">of</span> <span class="nx">rsync</span> <span class="nx">mirrors</span> <span class="nx">is</span> <span class="nx">available</span> <span class="nx">at</span>
<span class="err">#</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//trac.macports.org/wiki/Mirrors#Portfiles.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">If</span> <span class="nx">an</span> <span class="s2">&quot;rsync://&quot;</span> <span class="nx">URL</span> <span class="nx">points</span> <span class="nx">to</span> <span class="nx">a</span> <span class="p">.</span><span class="nx">tar</span> <span class="nx">file</span><span class="p">,</span> <span class="nx">a</span> <span class="nx">signed</span> <span class="p">.</span><span class="nx">rmd160</span> <span class="nx">file</span> <span class="nx">must</span>
<span class="err">#</span> <span class="nx">exist</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">same</span> <span class="nx">directory</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">and</span> <span class="nx">will</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">verify</span>
<span class="err">#</span> <span class="nx">its</span> <span class="nx">integrity</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">For</span> <span class="nx">proper</span> <span class="nx">functionality</span> <span class="nx">of</span> <span class="nx">various</span> <span class="nx">resources</span> <span class="p">(</span><span class="nx">port</span> <span class="nx">groups</span><span class="p">,</span> <span class="nx">mirror</span>
<span class="err">#</span> <span class="nx">sites</span><span class="p">,</span> <span class="nx">etc</span><span class="p">.),</span> <span class="nx">the</span> <span class="nx">primary</span> <span class="nx">MacPorts</span> <span class="nx">source</span> <span class="nx">must</span> <span class="nx">always</span> <span class="nx">be</span> <span class="nx">tagged</span>
<span class="err">#</span> <span class="s2">&quot;</span><span class="cp">[</span><span class="nb">default</span><span class="cp">]</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nx">even</span> <span class="k">if</span> <span class="nx">switched</span> <span class="nx">from</span> <span class="nx">the</span> <span class="k">default</span> <span class="s2">&quot;rsync://&quot;</span> <span class="nx">URL</span><span class="p">.</span>

<span class="err">#</span> <span class="nx">rsync</span><span class="o">:</span><span class="c1">//rsync.macports.org/release/tarballs/ports.tar </span><span class="cp">[</span><span class="nb">default</span><span class="cp">]</span><span class="c1"></span>
<span class="nx">rsync</span><span class="o">:</span><span class="c1">//mirrors.ustc.edu.cn/macports/ports </span><span class="cp">[</span><span class="nb">default</span><span class="cp">]</span><span class="c1"> </span>
<span class="err">#</span> <span class="nx">rsync</span><span class="o">:</span><span class="c1">//mirror.bit.edu.cn/macports/release/ports/ </span><span class="cp">[</span><span class="nb">default</span><span class="cp">]</span><span class="c1"></span>
</pre></div>
            </div><!-- /.entry-content -->


        </div><!-- /.eleven.columns -->

<div class="three columns">

<h4>Pages</h4>

 <ul>
  </ul>

<h4>Categories</h4>
<ul>
		<li><a href="http://xiaojianfeng.github.io/bioinf/index.html">bioinf</a></li>
		<li><a href="http://xiaojianfeng.github.io/clinical/index.html">clinical</a></li>
		<li><a href="http://xiaojianfeng.github.io/code/index.html">code</a></li>
		<li><a href="http://xiaojianfeng.github.io/general/index.html">general</a></li>
		<li><a href="http://xiaojianfeng.github.io/mac/index.html">mac</a></li>
		<li><a href="http://xiaojianfeng.github.io/utils/index.html">utils</a></li>
</ul>


<h4>Tags</h4>


<nav class="widget">
  <h4>Social</h4>
  <ul>
    <li><a href="https://github.com/xiaojianfeng">github</a></li>
    <li><a href="#">Another social link</a></li>
  </ul>
</nav>

</div> </div><!-- /.row -->


</section>

       </div><!-- /.row -->
    </div><!-- /.container -->


       <div class="container.nopad bg">

    
        <footer id="credits" class="row">
          <div class="seven columns left-center">

                   <address id="about" class="vcard body">
                    Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                    which takes great advantage of <a href="http://python.org">Python</a>.
                    <br />
                    Based on the <a target="_blank" href="http://gumbyframework.com">Gumby Framework</a>
                    </address>
          </div>


          <div class="seven columns">
            <div class="row">
              <ul class="socbtns">





              </ul>
            </div>
          </div>
        </footer>

    </div>


  <script src="http://xiaojianfeng.github.io/theme/js/libs/jquery-1.9.1.min.js"></script>
  <script src="http://xiaojianfeng.github.io/theme/js/libs/gumby.min.js"></script>
  <script src="http://xiaojianfeng.github.io/theme/js/plugins.js"></script>
</body>
</html>